# File Synchronizer

Многофункциональный инструмент для однонаправленной синхронизации файлов с графическим интерфейсом, поддержкой CLI, уведомлениями в Telegram и автоматической сборкой.

## Возможности

-   **Сравнение по содержимому**: Сравнение файлов по хеш-суммам (SHA256) для максимальной точности.
-   **Гибкие настройки**: Включение/отключение перезаписи и удаления файлов.
-   **Два режима работы**: Удобный графический интерфейс (GUI) и режим командной строки (CLI) для автоматизации.
-   **Исключение файлов**: Возможность исключать файлы из синхронизации по маске (`*.log`, `temp_*` и т.д.).
-   **Синхронизация пустых папок**: Опциональная возможность создавать в целевой директории пустые папки, если они есть в источнике.
-   **Запоминание состояния (GUI)**: Графический интерфейс запоминает последние использованные пути и опции.
-   **Встроенные настройки (GUI)**: Настройки уведомлений Telegram можно редактировать прямо из приложения.
-   **Профили задач (CLI)**: Возможность запускать синхронизацию с помощью файлов-заготовок (`--job`), что удобно для автоматизации разных задач.
-   **Работа с сетевыми ресурсами (CLI)**: Автоматическая проверка и попытка подключения к сетевым UNC-путям (для Windows) при указании учетных данных в файле задачи.
-   **Подробное логирование**: Все операции записываются в файл `sync_log.txt` и выводятся в интерфейс.
-   **Уведомления в Telegram**: Отправка отчета о результате выполнения (успех/ошибка).
-   **Автоматическая сборка**: GitHub Actions собирает готовые `.exe` файлы для Windows.

## Загрузки

Готовые сборки для Windows (`.exe`) автоматически создаются для каждой новой версии. Вы можете скачать их прямо со страницы Actions.

1.  Перейдите на вкладку **[Actions](https://github.com/YOUR_USERNAME/YOUR_REPOSITORY/actions)** в этом репозитории.
2.  Выберите самый верхний успешный запуск в списке "Build Windows Executable".
3.  Внизу страницы, в разделе **"Artifacts"**, скачайте архив `FileSynchronizer-Windows`.

Распакуйте архив, и вы найдете готовые `.exe` файлы и шаблоны конфигураций.

## Настройка

1.  **Для уведомлений в Telegram**:
    -   Запустите GUI-версию, зайдите в `Файл -> Настройки` и введите данные.
    -   Либо создайте файл `config.ini` из `config.ini.example` и заполните его. Файл `config.ini` должен находиться в той же папке, что и `.exe`.
2.  **Для профилей CLI**:
    -   Скопируйте `job.ini.example` в новый файл, например `my_backup.ini`, и настройте его.

## Использование

### Графический интерфейс (GUI)

Самый простой способ. Запустите `gui.py` или `FileSynchronizer_GUI.exe`.

Интерфейс интуитивно понятен: выберите папки, установите опции, задайте исключения и нажмите "Начать синхронизацию".

### Командная строка (CLI)

Для автоматизации и использования в скриптах. Запустите `cli.py` или `FileSynchronizer_CLI.exe`.

#### Простой запуск

```bash
# Прямое указание путей с исключениями и синхронизацией пустых папок
python cli.py C:\MyData D:\Backup --delete-removed --sync-empty-dirs --exclude "*.log" "*.tmp"
```

#### Использование файлов задач (профилей)

Для сложных или часто повторяющихся задач вы можете создать `.ini` файл и запускать синхронизацию с его помощью.

```bash
# Запуск с файлом задачи
python cli.py --job my_backup_job.ini
```

Пример `my_backup_job.ini`:
```ini
[SyncJob]
source = \\fileserver\share\documents
destination = D:\Backup\docs
no_overwrite = false
delete_removed = true
sync_empty_dirs = true
exclude = *.bak, ~*.*, Thumbs.db

# ВНИМАНИЕ: Хранение паролей в открытом виде небезопасно!
[SourceNetCreds]
user = myuser
password = mypassword
```